<ion-header>
    <ion-navbar core-back-button>
        <ion-title>{{ title }}</ion-title>

        <ion-buttons end>
            <!-- If the site plugin defines some buttons using core-nav-buttons, they will be added here. -->
        </ion-buttons>
    </ion-navbar>
</ion-header>
<ion-content>
    <ion-refresher [enabled]="content && content.ptrEnabled && content.content && content.content.dataLoaded"
        (ionRefresh)="refreshData($event)">
        <ion-refresher-content pullingText="{{ 'core.pulltorefresh' | translate }}"></ion-refresher-content>
    </ion-refresher>
    <core-site-plugins-module-index [module]="module" [courseId]="courseId" [pageTitle]="title">
    </core-site-plugins-module-index>
    <button class="nextActivity" (click)="nextActivity()" *ngIf="loaded">
        <div>Prosegui</div>
    </button>
    <section class="related-module" *ngIf="related && related.length>0">
        <h3 text-center>
            <core-icon id="modal-icon" name="fa-angle-up" item-start></core-icon>
        </h3>
        <core-loading [hideUntil]="loaded">
            <ng-container>
                <core-course-module *ngFor="let item of related" [module]="item" [courseId]="courseId"
                    [downloadEnabled]="downloadEnabled" [section]="section"></core-course-module>
            </ng-container>
        </core-loading>
    </section>
</ion-content>